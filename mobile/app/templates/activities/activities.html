<ion-view >
 
<ion-content class="has-header">
 
    <ion-slide-box style="background-color: #4a4845; padding-top: 0px">      
      <ion-slide>              
        <div class="row">
          <div class="col afk-align-center">
            <a class="afk-menu-tab2 afk-menu-tab-active" >MY FEED</a>
          </div>
          <div class="col afk-align-center">
            <a  class="afk-menu-tab2" ng-click="go(1)">SCORES</a>
          </div>
          <!--div class="col afk-align-center">
            <a  class="afk-menu-tab2" ng-click="go(2)">SUBSCRIPTIONS</a>
          </div-->
          <div class="col afk-align-center">
            <a class="afk-menu-tab2" ng-click="go(2)">COMMUNITY</a>
          </div>
        </div>
        
        <div class="afk-content-high">
	<div class="afk-obj-info" ng-show="user.subscriptions.length==0" style="font-size:16px;" >
		You currently do not have feeds. Please subscribes to players or teams to see feeds. <br/>If you have done already please check back, it may miss feeds for your subscribed players.We apologize for any inconveniences we may have caused you.
	</div>
<div class="afk-obj-info" ng-show="user.subscriptions.length>0 && activities.length==0" style="font-size:16px;" >
		You currently do not have feeds. <br/>It may miss new feeds for your subscribed players or/and teams.We apologize for any inconveniences we may have caused you. <br/>
<button class="button afk-btn-register"  style="margin:0px;" ng-click="refresh()">Click Here To Refresh</button>
	</div>
        <!--div style="text-align: center; font-size: 80px" ng-show="activities.length==0 && msgNoFeeds.length==0">           
            <span class="icon ion-loading-a"></span>
        </div-->
	
        <ion-list>
          <ion-item ng-repeat="activity in activities" class="afk-bg-list item item-avatar item-icon-right" ng-click="setCurrentFeed(activity._id)">
            <img ng-src="{{activity._player?getPicItem(activity._player):getPicItem(activity._team)}}" class="afk-circle">
            <a class="afk-lnk-detail" >
                <span class="afk-feed"><i style="color: #f97c11">{{activity.feedType?'com':'-'}} </i> {{activity.title||activity.message}}</span>
                <!--span class="afk-obj-info" > <a class="afk-lnk-player-feed" ng-href="#/private/{{activity._player?'player/'+activity._player._id:'team/'+activity._team._id}}">{{activity._player?activity._player.name:activity._team.name}}</a-->
                    <h6>{{activity.createdAt|date:'HH:mm  EEEE, MM/yyyy '}}   <br/>   {{activity.comments.length||0}} comments</h6><!--/span-->
               
            </a>
 <i class="icon ion-arrow-right-b" style="font-size: 11px; color: lightgrey;"></i>
          </ion-item>   
        </ion-list>
        </div>
        
        <div ng-show="stopScrollFeed && activities.length>10" >
            <center>No more results to show!!!</center>
        </div>
    
        <ion-infinite-scroll on-infinite="loadMoreFeeds()" ng-if="!stopScrollFeed"></ion-infinite-scroll>
        
      </ion-slide>
      
      <ion-slide>              
        <div class="row">
          <div class="col afk-align-center">
            <a class="afk-menu-tab2" ng-click="go(0)">MY FEED</a>
          </div>
           <div class="col afk-align-center">
            <a  class="afk-menu-tab2 afk-menu-tab-active" >SCORES <!--span style="font-size: 14px" class="icon ion-compose afk-comment"></span--></a>
           </div>
          <!--div class="col afk-align-center">
            <a  class="afk-menu-tab2" ng-click="go(2)">SUBSCRIPTIONS</a>
          </div-->
          <div class="col afk-align-center">
            <a class="afk-menu-tab2" ng-click="go(2)">COMMUNITY</a>
          </div>
        </div>
        
        <!--div class="item item-input-inset" style="background-color: grey" ng-show="showScore">            
            <label class="item-input-wrapper afk-search-bg" >            
                <input type="text" placeholder="Add Comment Here" class="afk-search-bg" ng-model="data.message" maxlength="160" />
            </label>    
            <button class="button afk-btn-register"  style="margin:0px;" ng-click="comment(data.message, 'score'); data.message=''">
            Post
            </button>
        </div-->
        
        <div class="afk-content-high">
            
        <div style="text-align: center; font-size: 80px">           
        <span ng-show="scores.length==0"  class="icon ion-loading-a"></span>
        </div>
        <ion-list>
          <ion-item ng-repeat="activity in scores" class="afk-item-score" >
            <h6> {{activity.dateMatch||activity.createdAt|date:"EEEE MMM dd , yyyy ' - ' HH:mm 'GMT'"}}</h6> 
                <div class="afk-row-score">
                    <div class="afk-col-score col-48" style="text-align: center">
                         <span class="afk-feed" >{{activity._team1.name}} </span>
                         <img ng-src="{{getPicItem(activity._team1)}}" style="max-height: 17px"/>
                    </div>
                    <div class="afk-col-score col-1" style="text-align: right; font-weight: bold;">
                        {{activity.scoreTeam1}} -
                    </div>                
                    <div class="afk-col-score col-1" style="text-align: left; font-weight: bold;">
                         {{activity.scoreTeam2}}
                    </div>
                    <div class="afk-col-score col-48" style="text-align: center">
                        
                        <span class="afk-feed">{{ activity._team2.name }} </span>
                         <img ng-src="{{getPicItem(activity._team2)}}" style="max-height: 17px">
                    </div>                
                </div>
           </ion-item>      
        </ion-list>
        
        <div ng-show="stopScrollScore && scores.length>=10" >
            <center>No more results to show!!!</center>
        </div>
    
        <ion-infinite-scroll on-infinite="loadMoreScores()" ng-if="!stopScrollScore && scores.length>=3"></ion-infinite-scroll>
         </div>
      </ion-slide>
      
      <!--ion-slide>              
        <div class="row">
          <div class="col afk-align-center">
            <a class="afk-menu-tab2" ng-click="go(0)">MY FEED</a>
          </div>
           <div class="col afk-align-center">
            <a  class="afk-menu-tab2" ng-click="go(1)">SCORES</a>
           </div>
          <div class="col afk-align-center">
            <a  class="afk-menu-tab2 afk-menu-tab-active">SUBSCRIPTIONS</a>
          </div>
          <div class="col afk-align-center">
            <a class="afk-menu-tab2" ng-click="go(3)">COMMUNITY</a>
          </div>
        </div>
        
        <ion-list>
          <ion-item ng-repeat="activity in activities" class="afk-bg-list item item-avatar item-icon-right">
            <img src="./images/ionic.png" class="afk-circle">
            <a class="afk-lnk-detail">
                <span class="afk-obj-name"><i style="color: #f97c11">Update: </i> {{activity.message}}</span>
                <span class="afk-obj-info" >{{activity.createdAt|date:'HH:MM'}}          {{activity.comments.length||0}} comments</span>
                <i class="icon ion-arrow-right-b" style="font-size: 13px; color: lightgrey;"></i>
            </a>
          </ion-item>    
        </ion-list>     
      </ion-slide-->
      
      <ion-slide>              
        <div class="row">
          <div class="col afk-align-center">
            <a class="afk-menu-tab2" ng-click="go(0)">MY FEED</a>
          </div>
           <div class="col afk-align-center">
            <a  class="afk-menu-tab2" ng-click="go(1)">SCORES</a>
           </div>
          <!--div class="col afk-align-center">
            <a  class="afk-menu-tab2" ng-click="go(2)">SUBSCRIPTIONS</a>
          </div-->
          <div class="col afk-align-center">
            <a class="afk-menu-tab2 afk-menu-tab-active" ng-click="show=!show">COMMUNITY <span style="font-size: 14px" class="icon ion-compose afk-comment"></span></a>
          </div>
        </div>
        
        <div class="item item-input-inset" style="background-color: grey" ng-show="true"> 
		<div style="color:red; background:white" ng-show="data.message.length>50"> {{ data.message.length - 160}} </div>           
                 <input placeholder="Add Comment Here" class="afk-search-bg" ng-model="data.message" maxlength="160" />
            <button class="button afk-btn-register"  style="margin:0px;" ng-click="postFeedCommunity(data.message, 'community'); data.message=''">
            Post
            </button>
        </div>
        <div class="afk-content-high">
        <ion-list>
           <ion-item ng-repeat="activity in communities" class="afk-bg-list item item-avatar">            
            <img class="afk-circle" ng-src="{{activity._user.picture? './images/avatars/' + activity._user.picture :'./images/avatars/default.png'}}" />
            <a class="afk-lnk-player-feed" ng-href="{{activity._user._id==user._id?'#':'#/private/member/'+activity._user._id}}">
                <span class="afk-feed">{{activity.message}}</span>
                <span class="afk-obj-desc">Posted by <span class="afk-lnk-player-feed" >{{activity._user._id == user._id?'Me':activity._user.name||activity._user.username}}</span> <br/> on {{activity.createdAt|date:"EEEE MMM dd 'at' HH:mm 'GMT'"}}</span> 
            </a>
          </ion-item>              
        </ion-list>
         <br/><br/>
         </div>
        <div ng-show="stopScroll && communities.length>10" >
            <center>No more results to show!!!</center>
        </div>
    
        <ion-infinite-scroll on-infinite="loadMoreCommunity()" ng-if="!stopScroll"></ion-infinite-scroll>
        
      </ion-slide>
    </ion-slide-box>  

  </ion-content>
 
</ion-view>



